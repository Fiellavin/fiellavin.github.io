<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badge Generator</title>
    <style>
        body {
            background-color: #1a1a1a;
            color: #ffffff;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }

        .badge-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .badge {
            width: 100px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .badge:hover {
            transform: scale(1.1);
        }

        .output-container {
            margin-top: 20px;
        }

        #generated-badge {
            margin: 20px auto;
            display: none;
        }

        .input-number {
            display: none;
            margin-top: 10px;
        }

        .input-number input {
            font-size: 18px;
            padding: 5px;
        }

        .download-button {
            display: none;
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007bff;
            color: #ffffff;
            border: none;
            cursor: pointer;
        }

        .download-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>Los Santos Police Department</h1>
    <h2>Badge Generator</h2>

    <div class="badge-container">
        <img src="ChiefOfPolice.png" alt="Chief of Police" class="badge" data-rank="Chief of Police">
        <img src="AssistantChief.png" alt="Assistant Chief of Police" class="badge" data-rank="Assistant Chief">
        <img src="DeputyChief.png" alt="Deputy Chief of Police" class="badge" data-rank="Deputy Chief">
        <img src="Commander.png" alt="Police Commander" class="badge" data-rank="Commander">
        <img src="Captain.png" alt="Captain" class="badge" data-rank="Captain">
        <img src="Lieutenant.png" alt="Lieutenant" class="badge" data-rank="Lieutenant">
        <img src="Sergeant.png" alt="Sergeant" class="badge" data-rank="Sergeant">
        <img src="Detective.png" alt="Detective" class="badge" data-rank="Detective">
        <img src="PoliceOfficer.png" alt="Police Officer" class="badge" data-rank="Police Officer">
    </div>

    <div class="output-container">
        <canvas id="generated-badge" width="400" height="500"></canvas>

        <div class="input-number" id="badge-number-input">
            <label for="badgeNumber">Enter Badge Number:</label>
            <input type="text" id="badgeNumber" placeholder="12345">
        </div>

        <button class="download-button" id="downloadBadge">Download Badge</button>
    </div>

    <script>
        const badges = document.querySelectorAll('.badge');
        const canvas = document.getElementById('generated-badge');
        const ctx = canvas.getContext('2d');
        const badgeNumberInput = document.getElementById('badge-number-input');
        const badgeNumberField = document.getElementById('badgeNumber');
        const downloadButton = document.getElementById('downloadBadge');

        let selectedBadge = null;

        badges.forEach(badge => {
            badge.addEventListener('click', () => {
                const rank = badge.getAttribute('data-rank');

                selectedBadge = rank;
                badgeNumberInput.style.display = ['Chief of Police', 'Assistant Chief', 'Deputy Chief', 'Commander'].includes(rank) ? 'none' : 'block';
                generateBadge(badge.src, rank);
            });
        });

        badgeNumberField.addEventListener('input', () => {
            if (selectedBadge) {
                const badgeSrc = document.querySelector(`img[data-rank="${selectedBadge}"]`).src;
                generateBadge(badgeSrc, selectedBadge, badgeNumberField.value);
            }
        });

        downloadButton.addEventListener('click', () => {
            const link = document.createElement('a');
            link.download = `${selectedBadge || 'Badge'}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        });

        function generateBadge(src, rank, badgeNumber = '') {
            const img = new Image();
            img.src = src;
            img.onload = () => {
                canvas.style.display = 'block';
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

                if (badgeNumber) {
                    ctx.font = '30px Arial';
                    ctx.fillStyle = '#ffffff';
                    ctx.textAlign = 'center';
                    ctx.fillText(badgeNumber, canvas.width / 2, canvas.height - 50);
                }

                downloadButton.style.display = 'block';
            };
        }
    </script>
</body>
</html>
