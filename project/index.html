<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz Game</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="logos/flogo.jpg" />
</head>
<body>
  <!-- Overlay giriÅŸ ekranÄ± -->
  <div id="overlay">
    <span id="typing"></span><span id="cursor">|</span>
  </div>

  <!-- Quiz kutusu -->
  <div id="quiz-container" class="quiz-container hidden">
    <h1>Quiz Game</h1>
    <div id="progress-bar"><div id="progress-fill"></div></div>
    <div id="question" class="question"></div>
    <div id="options"></div>
    <button id="next-btn">Next Question</button>
    <div id="result"></div>
  </div>

  <!-- Ã–zel imleÃ§ -->
  <div class="cursor-dot" id="cursor-dot"></div>

  <script>
    // Typing effect
    const typingEl = document.getElementById("typing");
    const overlay = document.getElementById("overlay");
    const quizContainer = document.getElementById("quiz-container");

    const texts = ["Click to start...", "Press to begin...", "Ready to play?"];
    let textIndex = 0, charIndex = 0, deleting = false;

    function typeEffect() {
      const currentText = texts[textIndex];
      if (!deleting) {
        typingEl.textContent = currentText.substring(0, charIndex + 1);
        charIndex++;
        if (charIndex === currentText.length) {
          deleting = true;
          setTimeout(typeEffect, 900);
          return;
        }
      } else {
        typingEl.textContent = currentText.substring(0, Math.max(charIndex - 1, 0));
        charIndex = Math.max(charIndex - 1, 0);
        if (charIndex === 0) {
          deleting = false;
          textIndex = (textIndex + 1) % texts.length;
        }
      }
      setTimeout(typeEffect, deleting ? 90 : 140);
    }
    typeEffect();

    // Overlay fade-out ve quiz fade-in
    overlay.addEventListener("click", () => {
      overlay.style.pointerEvents = "none";
      overlay.classList.add("fade-out");
      setTimeout(() => {
        overlay.style.display = "none";
        quizContainer.classList.remove("hidden");
        quizContainer.classList.add("fade-in");
        showQuestion();
      }, 1200);
    });

    // Quiz verileri
    const questions = [
      { q: "What does HTML stand for?", options: ["Hyper Text Markup Language", "Home Tool Markup Language", "Hyperlinks Text Management Language"], answer: 0 },
      { q: "What is CSS mainly used for?", options: ["Database management", "Styling web pages", "Server setup"], answer: 1 },
      { q: "What is the main purpose of JavaScript?", options: ["Adding interactivity to web pages", "Editing images", "Storing data"], answer: 0 },
      { q: "Which tag is used to create a hyperlink in HTML?", options: ["<link>", "<a>", "<href>"], answer: 1 },
      { q: "Which CSS property changes the text color?", options: ["font-style", "color", "background-color"], answer: 1 },
      { q: "Which JavaScript keyword declares a variable?", options: ["var", "def", "create"], answer: 0 },
      { q: "Which HTML element is used to display the largest heading?", options: ["<h6>", "<h1>", "<header>"], answer: 1 },
      { q: "Which CSS property controls the size of text?", options: ["font-size", "text-style", "size"], answer: 0 },
      { q: "Which JavaScript function is used to print messages to the console?", options: ["print()", "console.log()", "log.console()"], answer: 1 },
      { q: "Which HTML element is used to insert an image?", options: ["<img>", "<picture>", "<src>"], answer: 0 }
    ];

    let currentQuestion = 0;
    let score = 0;
    let answered = false;

    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const nextBtn = document.getElementById("next-btn");
    const resultEl = document.getElementById("result");
    const progressFill = document.getElementById("progress-fill");

    function showQuestion() {
      answered = false;
      const q = questions[currentQuestion];
      questionEl.textContent = q.q;
      optionsEl.innerHTML = "";

      q.options.forEach((opt, i) => {
        const optEl = document.createElement("div");
        optEl.textContent = opt;
        optEl.className = "option";
        optEl.addEventListener("click", () => {
          if (answered) return;
          answered = true;

          if (i === q.answer) {
            score++;
            optEl.classList.add("correct");
          } else {
            optEl.classList.add("wrong");
          }

          Array.from(optionsEl.children).forEach((child, idx) => {
            child.style.pointerEvents = "none";
            if (idx === q.answer) child.classList.add("correct");
          });

          // ðŸ‘‡ Son sorudaysa buton "End Quiz" yazacak
          if (currentQuestion === questions.length - 1) {
            nextBtn.textContent = "End Quiz";
          } else {
            nextBtn.textContent = "Next Question";
          }

          nextBtn.style.display = "block";
          updateProgress();
        });
        optionsEl.appendChild(optEl);
      });

      nextBtn.style.display = "none";
      updateProgress();
    }

    function updateProgress() {
      const percent = ((currentQuestion + (answered ? 1 : 0)) / questions.length) * 100;
      progressFill.style.width = percent + "%";
    }

    nextBtn.onclick = () => {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        const percentage = Math.round((score / questions.length) * 100);
        resultEl.textContent = `Quiz finished! Your score: ${score}/${questions.length} (${percentage}%)`;
        nextBtn.textContent = "Restart";
        nextBtn.onclick = restartQuiz;
      }
    };

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      resultEl.textContent = "";
      nextBtn.textContent = "Next Question";
      nextBtn.style.display = "none";
      nextBtn.onclick = () => {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          const percentage = Math.round((score / questions.length) * 100);
          resultEl.textContent = `Quiz finished! Your score: ${score}/${questions.length} (${percentage}%)`;
          nextBtn.textContent = "Restart";
          nextBtn.onclick = restartQuiz;
        }
      };
      showQuestion();
    }

    // Ã–zel imleÃ§ akÄ±cÄ± takip
    const cursorDot = document.getElementById("cursor-dot");
    let targetX = 0, targetY = 0, curX = 0, curY = 0;
    document.addEventListener("mousemove", (e) => {
      targetX = e.clientX;
      targetY = e.clientY;
    });
    function animateCursor() {
      curX += (targetX - curX) * 0.35;
      curY += (targetY - curY) * 0.35;
      cursorDot.style.left = curX + "px";
      cursorDot.style.top = curY + "px";
      requestAnimationFrame(animateCursor);
    }
    animateCursor();
  </script>
</body>
</html>
