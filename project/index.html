<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Oyunu</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Overlay giriş ekranı -->
  <div id="overlay">
    <span id="typing"></span><span id="cursor">|</span>
  </div>

  <!-- Quiz kutusu -->
  <div id="quiz-container" class="quiz-container hidden">
    <h1>Quiz Oyunu</h1>
    <div id="progress-bar"><div id="progress-fill"></div></div>
    <div id="question" class="question"></div>
    <div id="options"></div>
    <button id="next-btn">Next Question</button>
    <div id="result"></div>
  </div>

  <!-- Özel imleç -->
  <div class="cursor-dot" id="cursor-dot"></div>

  <script>
    // Overlay yazı efekti
    const typingEl = document.getElementById("typing");
    const overlay = document.getElementById("overlay");
    const quizContainer = document.getElementById("quiz-container");

    const texts = ["Click to enter...", "Welcome to Fiellavin"];
    let textIndex = 0;
    let charIndex = 0;
    let deleting = false;

    function typeEffect() {
      let currentText = texts[textIndex];
      if (!deleting) {
        typingEl.textContent = currentText.substring(0, charIndex + 1);
        charIndex++;
        if (charIndex === currentText.length) {
          deleting = true;
          setTimeout(typeEffect, 1000);
          return;
        }
      } else {
        typingEl.textContent = currentText.substring(0, charIndex - 1);
        charIndex--;
        if (charIndex === 0) {
          deleting = false;
          textIndex = (textIndex + 1) % texts.length;
        }
      }
      setTimeout(typeEffect, deleting ? 100 : 150);
    }
    typeEffect();

    overlay.addEventListener("click", () => {
      overlay.style.display = "none";
      quizContainer.classList.remove("hidden");
      showQuestion();
    });

    // Quiz verileri
    const questions = [
      { q: "HTML açılımı nedir?", options: ["Hyper Text Markup Language", "Home Tool Markup Language", "Hyperlinks Text Management Language"], answer: 0 },
      { q: "CSS ne için kullanılır?", options: ["Veritabanı", "Stil", "Sunucu"], answer: 1 },
      { q: "JavaScript hangi amaçla kullanılır?", options: ["Dinamik davranış", "Resim düzenleme", "Veri saklama"], answer: 0 }
    ];

    let currentQuestion = 0;
    let score = 0;
    let answered = false;

    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const nextBtn = document.getElementById("next-btn");
    const resultEl = document.getElementById("result");
    const progressFill = document.getElementById("progress-fill");

    function showQuestion() {
      answered = false;
      let q = questions[currentQuestion];
      questionEl.textContent = q.q;
      optionsEl.innerHTML = "";
      q.options.forEach((opt, i) => {
        let btn = document.createElement("div");
        btn.textContent = opt;
        btn.className = "option";
        btn.onclick = () => {
          if (answered) return;
          answered = true;
          if (i === q.answer) {
            score++;
            btn.classList.add("correct");
          } else {
            btn.classList.add("wrong");
          }
          nextBtn.style.display = "block";
        };
        optionsEl.appendChild(btn);
      });
      nextBtn.style.display = "none";
      updateProgress();
    }

    function updateProgress() {
      let percent = ((currentQuestion) / questions.length) * 100;
      progressFill.style.width = percent + "%";
    }

    nextBtn.onclick = () => {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        let percentage = Math.round((score / questions.length) * 100);
        resultEl.textContent = `Quiz bitti! Skorunuz: ${score}/${questions.length} (${percentage}%)`;
        nextBtn.textContent = "Restart";
        nextBtn.onclick = restartQuiz;
      }
    };

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      resultEl.textContent = "";
      nextBtn.textContent = "Next Question";
      nextBtn.onclick = () => {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          let percentage = Math.round((score / questions.length) * 100);
          resultEl.textContent = `Quiz bitti! Skorunuz: ${score}/${questions.length} (${percentage}%)`;
          nextBtn.textContent = "Restart";
          nextBtn.onclick = restartQuiz;
        }
      };
      showQuestion();
    }

    // Özel imleç
    const cursorDot = document.getElementById("cursor-dot");
    document.addEventListener("mousemove", e => {
      cursorDot.style.left = e.pageX + "px";
      cursorDot.style.top = e.pageY + "px";
    });
  </script>
</body>
</html>
